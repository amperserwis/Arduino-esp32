#########################
Migration from 2.x to 3.0
#########################

Introduction
------------

This is a guideline for the Arduino ESP32 project documentation. The idea for this guideline is to show how to start collaborating on the project.

The guideline works to give you the directions and to keep the documentation more concise, helping users to better understand the structure.

Breaking changes in API
-----------------------

We all know how important documentation is. This project is no different.

ADC
***

Removed APIs
^^^^^^^^^^^^

* ``analogSetClockDiv``
* ``adcAttachPin``
* ``analogSetVRefPin``


Hall Sensor
***********

Hall sensor is no longer supported.

Removed APIs
^^^^^^^^^^^^

* ``hallRead``

I2S
***

I2S driver has beed completely redesigned and refactored to use new ESP-IDF driver. 
For more informations about the new API check `I2S API <https://docs.espressif.com/projects/arduino-esp32/en/latest/api/i2s.html>`_.

LEDC
****

LEDC API has been changed in order to support the Peripheral Manager and easier use as LEDC channels are now automaticaly assigned to pins.
For more informations about the new API check `LEDC API <https://docs.espressif.com/projects/arduino-esp32/en/latest/api/ledc.html>`_.

Removed APIs
^^^^^^^^^^^^

* ``ledcSetup``
* ``ledcAttachPin``

New APIs
^^^^^^^^

* ``ledcAttach`` used to setup LEDC pin (merged ``ledcSetup`` and ``ledcAttachPin`` functions).
* ``timerGetFrequency`` used to get actual frequency of the timer.
* ``timerAttachInterruptArg`` used to attach interrupt to timer using argument.

Changes in APIs
^^^^^^^^^^^^^^^

* ``ledcDetachPin`` renamed to ``ledcDetach``.
* In all functions input parameter ``channel`` have been changed to ``pin``.

RMT
****

TODO:
For more informations about the new API check `RMT API <https://docs.espressif.com/projects/arduino-esp32/en/latest/api/rmt.html>`_.

Removed APIs
^^^^^^^^^^^^

TODO:

New APIs
^^^^^^^^

TODO:

Changes in APIs
^^^^^^^^^^^^^^^

TODO:

SigmaDelta
**********

SigmaDelta has been refactored to use new ESP-IDF driver.
For more informations about the new API check `SigmaDelta API <https://docs.espressif.com/projects/arduino-esp32/en/latest/api/sigmadelta.html>`_.

Removed APIs
^^^^^^^^^^^^

* ``sigmaDeltaSetup``
* ``sigmaDeltaRead``

New APIs
^^^^^^^^

* ``sigmaDeltaAttach`` used to setup SigmaDelta pin (channel is aquired automatically).
* ``timerGetFrequency`` used to get actual frequency of the timer.
* ``timerAttachInterruptArg`` used to attach interrupt to timer using argument.

Changes in APIs
^^^^^^^^^^^^^^^

* ``sigmaDeltaDetachPin`` renamed to ``sigmaDeltaDetach``.
* ``sigmaDeltaWrite`` input parameter ``channel`` have been changed to ``pin``.

Timer
*****

Timer has been refactored to use new ESP-IDF driver and its API got simplified. For more informations about the new API check
`TIMER API <https://docs.espressif.com/projects/arduino-esp32/en/latest/api/timer.html>`_.

Removed APIs
^^^^^^^^^^^^

* ``timerGetConfig``
* ``timerSetConfig``
* ``timerSetDivider``
* ``timerSetCountUp``
* ``timerSetAutoReload``
* ``timerGetDivider``
* ``timerGetCountUp``
* ``timerGetAutoReload``
* ``timerAlarmEnable``
* ``timerAlarmDisable``
* ``timerAlarmWrite``
* ``timerAlarmEnabled``
* ``timerAlarmRead``
* ``timerAlarmReadMicros``
* ``timerAlarmReadSeconds``
* ``timerAttachInterruptFlag``

New APIs
^^^^^^^^

* ``timerAlarm`` used to setup Alarm for timer and enables it automaticaly (merged ``timerAlarmWrite`` and ``timerAlarmEnable`` functions).
* ``timerGetFrequency`` used to get actual frequency of the timer.
* ``timerAttachInterruptArg`` used to attach interrupt to timer using argument.

Changes in APIs
^^^^^^^^^^^^^^^

* ``timerBegin`` now have only 1 parameter wich is frequency. There is an automatic calculation of divider through different clock sourcesÂ¨
  to achieve selected frequency.
* ``timerAttachInterrupt`` now have only 2 parameters -> parameter ``edge`` has been removed.

UART
****

TODO:
For more informations about the new API check `UART API <https://docs.espressif.com/projects/arduino-esp32/en/latest/api/rmt.html>`_.

Removed APIs
^^^^^^^^^^^^

TODO:

New APIs
^^^^^^^^

TODO:

Changes in APIs
^^^^^^^^^^^^^^^

TODO: